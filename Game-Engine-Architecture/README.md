## Game-Engine-Architecture :《游戏引擎架构》

### Memory-management: 内存管理

* StackAllocator(堆栈内存分配器)：首先申请一大块连续内存（malloc()、全局new、声明全局字节数组）。安排一个指针指向堆栈的顶端，指针以下的内存是已分配的，指针以上的内存是未分配的。分配请求，仅需吧指针往上移动请求所需的字节量。释放请求，只需把指针下移该内存块的字节量（注：不能任意次序释放，必须以分配时相反的次序释放内存）
* 池分配器：分配大量同等尺寸的小内存块，由链表存储对应的池指针。
* 含对齐功能的分配器：在堆栈分配器的基础上添加了对齐分配函数，可设置对齐偏移量
* Single-frame allocator(单帧分配器)：其原理就是堆栈分配器，区别就是在游戏的每帧清空分配器
* double-buffered allocator(双帧分配器)：在第i帧分配的内存块用于第(i+1)帧。原理就是建立两个单帧分配器，每帧交替使用

### 字符串

* 尽量避免字符串类，使用C风格的字符数组形式$\color{red}{（字符串类已值传递时需要调用拷贝构造函数。若采用以参考传递或以地址传递则不会有这个问题）}$
* 管理存储文件的路径可以使用字符串类来提供很多有意义的功能